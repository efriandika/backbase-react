(this["webpackJsonpbackbase-react"]=this["webpackJsonpbackbase-react"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c={ADD_CITY:"ADD_CITY",OPEN_WEATHER_FORECAST:"OPEN_WEATHER_FORECAST",CLOSE_WEATHER_FORECAST:"CLOSE_WEATHER_FORECAST"}},15:function(e,t,n){e.exports={container:"WeatherForecast_container__18y2d",cityName:"WeatherForecast_cityName__3tn70",weatherIcon:"WeatherForecast_weatherIcon__1-WL5"}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(5),a=n(46),r=n.n(a),i=n(0);function s(e){for(var t=e.count,n=e.width,a=e.wrapper,s=e.height,l=e.circle,o=e.style,d=e.className,j=[],u=0;u<t;u++){var b={};null!==n&&(b.width=n),null!==s&&(b.height=s),null!==n&&null!==s&&l&&(b.borderRadius="50%");var h=r.a.skeleton;d&&(h+=" "+d),j.push(Object(i.jsx)("span",{className:h,style:Object(c.a)(Object(c.a)({},o),b),"data-testid":"skeleton-element",children:"\u200c"},u))}return Object(i.jsx)("span",{role:"status","aria-live":"assertive","aria-label":"Loading content...",children:a?j.map((function(e,t){return Object(i.jsxs)(a,{children:[e,"\u200c"]},t)})):j})}s.defaultProps={count:1,width:null,wrapper:null,height:null,circle:!1,style:{},className:""}},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var c=n(12),a=function(e){return{type:c.a.ADD_CITY,payload:{city:e}}},r=function(e,t,n){return{type:c.a.OPEN_WEATHER_FORECAST,payload:{lon:e,lat:t,name:n}}},i=function(){return{type:c.a.CLOSE_WEATHER_FORECAST}}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(7);function a(){var e=Object(c.c)((function(e){return e.weather.units}));return function(t){switch(e){case"imperial":return"".concat(t,"\xb0 F");case"metric":return"".concat(t,"\xb0 C");default:return t}}}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(7);function a(){var e=Object(c.c)((function(e){return e.weather.units}));return function(t){switch(e){case"imperial":return"".concat(t," miles/h");case"metric":return"".concat(t," meter/s");default:return t}}}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(48),a=n(19),r=n.n(a).a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:"ba25fbaafea57fe56e578608c5e9f30f"}}),i=Object(c.a)({axios:r})},46:function(e,t,n){e.exports={skeleton:"Skeleton_skeleton__8yEY-","background-animation":"Skeleton_background-animation__YOnS0"}},53:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(21),i=n.n(r),s=(n(53),n(5)),l=n(11),o=n(3),d=n(30),j=n(18),u=n(0);function b(){return Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("div",{className:"row",children:[1,2,3,4,5,6].map((function(e){return Object(u.jsx)("div",{className:"col-md-4 mb-4",children:Object(u.jsx)(j.a,{height:"170px"})},"page-skeleton-".concat(e))}))})})}var h=n(7),O="SET_UNITS";function m(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.weather.units}));return Object(u.jsx)("nav",{className:"navbar navbar-expand navbar-light navbar-weather",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(l.b,{className:"navbar-brand text-brand text-primary",to:"/",children:"City Weather App"}),Object(u.jsxs)("div",{className:"d-flex",children:["F\xb0",Object(u.jsx)("div",{className:"form-check form-switch ms-2",children:Object(u.jsx)("input",{name:"unit",className:"form-check-input",type:"checkbox","aria-checked":"metric"===t,checked:"metric"===t,onChange:function(t){t.target.checked?e({type:O,payload:{units:"metric"}}):e({type:O,payload:{units:"imperial"}})},"aria-label":"Metric Units Switcher"})}),"C\xb0"]})]})})}function x(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsxs)("ul",{className:"nav justify-content-center",children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(l.c,{className:"nav-link",to:"/dashboard",children:"Dashboard"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(l.c,{className:"nav-link",to:"/about",children:"About Me"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)("a",{className:"nav-link",href:"https://efriandika.github.io/backbase-react",target:"_blank",rel:"noreferrer",children:"Live Demo"})})]}),Object(u.jsxs)("div",{className:"footer-text",children:["Made with ",Object(u.jsx)("i",{className:"bi bi-heart",role:"img","aria-label":"Love"})," for Backbase Interview Assignment."]}),Object(u.jsx)("div",{className:"author",children:Object(u.jsx)("a",{href:"https://www.linkedin.com/in/efriandika/",target:"_blank",rel:"noreferrer",children:"Efriandika Pratama"})})]})}var f=n(32),p=n(22),v=n.n(p),y=n(34),N=n(31),w=n(45),g=n(15),E=n.n(g),_=n(43),k=n(44);function C(e){var t=e.className,n=e.units,a=e.lon,r=e.lat,i=e.name,s=Object(w.a)({},{manual:!0}),l=Object(N.a)(s,3),o=l[0],d=o.data,b=o.loading,h=o.error,O=l[1],m=l[2],x=Object(_.a)(),f=Object(k.a)();function p(){return(p=Object(y.a)(v.a.mark((function e(t,c){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{O({url:"/onecall",params:{lat:t,lon:c,units:n,exclude:"minutely,daily,alerts"}})}catch(a){}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return new Date(1e3*e).toLocaleTimeString()}return Object(c.useEffect)((function(){return function(e,t){p.apply(this,arguments)}(r,a),function(){return m()}}),[r,a]),d&&!b&&null==h?function(){return Object(u.jsxs)("div",{className:"".concat(t," ").concat(E.a.container),"aria-label":"".concat(i,"'s forecast weather"),children:[d.current.weather.length>0?Object(u.jsx)("img",{className:E.a.weatherIcon,src:"https://openweathermap.org/img/wn/".concat(d.current.weather[0].icon,"@2x.png"),alt:d.current.weather[0].main,"data-testid":"weather-icon"}):null,Object(u.jsx)("div",{className:E.a.cityName,children:i}),Object(u.jsxs)("div",{className:"line-height-condenced text-muted text-tiny",children:[Object(u.jsx)("div",{children:"Updated at:"}),Object(u.jsx)("div",{className:"font-weight-semibold",children:(e=d.current.dt,new Date(1e3*e).toLocaleString())})]}),Object(u.jsxs)("div",{className:"mt-4 text-tiny",children:[Object(u.jsx)("div",{className:"font-weight-semibold",children:"Forecast (Next 5 Hours)"}),Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"col",children:"#"}),Object(u.jsx)("th",{scope:"col",children:"Temp"}),Object(u.jsx)("th",{scope:"col",children:"Feels Like"}),Object(u.jsx)("th",{scope:"col",children:"Wind Speed"})]})}),Object(u.jsx)("tbody",{children:d.hourly.slice(1,6).map((function(e,t){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:g(e.dt)}),Object(u.jsx)("td",{children:x(e.temp)}),Object(u.jsx)("td",{children:x(e.feels_like)}),Object(u.jsx)("td",{children:f(e.wind_speed)})]},"forecast-table-".concat(t))}))})]})]})]});var e}():null!=h?Object(u.jsxs)("div",{className:"".concat(t," ").concat(E.a.container," text-danger"),children:["Data cannot be loaded from the server.",Object(u.jsx)("br",{}),404===h.response.status?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("strong",{children:[i," (lon: ",a," | lat: ",r,")"]})," is not found"]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("strong",{children:"Error:"})," ",h.message]})]}):Object(u.jsxs)("div",{className:"".concat(t," ").concat(E.a.container),children:[Object(u.jsx)("div",{className:E.a.cityName,children:Object(u.jsx)(j.a,{width:"50%",height:"50px"})}),Object(u.jsxs)("div",{className:"line-height-condenced text-muted text-tiny",children:[Object(u.jsx)("div",{children:Object(u.jsx)(j.a,{width:"30%",height:"20px"})}),Object(u.jsx)("div",{className:"font-weight-semibold",children:Object(u.jsx)(j.a,{width:"60%",height:"20px"})})]})]})}function T(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.app.drawer})),n=Object(h.c)((function(e){return e.app.selectedCity})),c=Object(h.c)((function(e){return e.weather.selectedCity}));function a(){e(Object(f.b)())}return Object(u.jsxs)("div",{className:"drawer ".concat(t?"open":""),role:"dialog","aria-label":"Weather Forecasting",children:[Object(u.jsx)("div",{className:"drawer-overlay",onClick:a}),Object(u.jsxs)("div",{className:"drawer-content",children:[Object(u.jsx)("button",{type:"button",className:"btn-close",onClick:a,"aria-label":"close","data-testid":"hehe",children:Object(u.jsx)("i",{className:"bi bi-x-circle"})}),n?Object(u.jsx)(C,{className:"mt-5",lat:n.lat,lon:n.lon,name:n.name,units:c}):Object(u.jsx)("div",{children:"There is no city selected"})]})]})}function A(e){var t=e.children;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m,{}),Object(u.jsx)("div",{className:"layout-content",children:t}),Object(u.jsx)(x,{}),Object(u.jsx)(T,{})]})}C.defaultProps={className:"",units:"metric"};var S={fallback:Object(u.jsx)(b,{})},F=Object(d.a)((function(){return n.e(3).then(n.bind(null,87))}),S),R=Object(d.a)((function(){return n.e(4).then(n.bind(null,86))}),S),D="/dashboard",W=[{path:"/dashboard",component:function(){return Object(u.jsx)(F,{})}},{path:"/about",component:function(){return Object(u.jsx)(R,{})},layout:function(e){return Object(u.jsx)(A,Object(s.a)({},e))}}];function L(){return Object(u.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",style:{height:"200px"},children:[Object(u.jsx)("div",{style:{fontSize:"80px"},children:Object(u.jsx)("i",{className:"bi bi-emoji-frown"})}),"The page you are looking for is not found",Object(u.jsx)("div",{className:"mt-4",children:Object(u.jsx)(l.b,{className:"btn btn-primary",to:"/",children:"Go to Dashboard"})})]})}var I=function(){return Object(u.jsx)(l.a,{basename:"/backbase-react",children:Object(u.jsxs)(o.d,{children:[W.map((function(e,t){return Object(u.jsx)(o.b,{path:e.path,exact:e.exact,render:function(t){return e.layout?Object(u.jsx)(e.layout,Object(s.a)(Object(s.a)({},t),{},{children:Object(u.jsx)(e.component,Object(s.a)({},t))})):Object(u.jsx)(A,Object(s.a)(Object(s.a)({},t),{},{children:Object(u.jsx)(e.component,Object(s.a)({},t))}))}},t)})),Object(u.jsx)(o.a,{from:"/",to:D,exact:!0}),Object(u.jsx)(o.b,{path:"*",component:function(){return Object(u.jsx)(A,{children:Object(u.jsx)(L,{})})}})]})})},H=n(24),P=n(25),Y=n(12);function M(e,t){return Object.assign({},e,t)}var U,B={drawer:!1,selectedCity:null,cities:["Amsterdam","Dublin,IE","Edinburgh","Manchester","London"]},J={units:"metric"},z=Object(P.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y.a.ADD_CITY:return M(e,{drawer:!1,cities:[].concat(Object(H.a)(e.cities),[t.payload.city])});case Y.a.OPEN_WEATHER_FORECAST:return M(e,{drawer:!0,selectedCity:{lon:t.payload.lon,lat:t.payload.lat,name:t.payload.name}});case Y.a.CLOSE_WEATHER_FORECAST:return M(e,{drawer:!1,selectedCity:null});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return M(e,{units:t.payload.units});default:return e}}}),G=function(e){return P.a.apply(void 0,Object(H.a)(e))},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U=Object(P.c)(z,e,G([]))},K=function(e){var t,n=null!==(t=U)&&void 0!==t?t:q(e);return e&&U&&(n=q(Object(s.a)(Object(s.a)({},U.getState()),e)),U=void 0),"undefined"===typeof window||U||(U=n),n}();i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(h.a,{store:K,children:Object(u.jsx)(I,{})})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.154bb78e.chunk.js.map