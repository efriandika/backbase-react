(this["webpackJsonpbackbase-react"]=this["webpackJsonpbackbase-react"]||[]).push([[0],{11:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c={ADD_CITY:"ADD_CITY",OPEN_WEATHER_FORECAST:"OPEN_WEATHER_FORECAST",CLOSE_WEATHER_FORECAST:"CLOSE_WEATHER_FORECAST"}},15:function(e,t,n){e.exports={container:"WeatherForecast_container__18y2d",cityName:"WeatherForecast_cityName__3tn70",weatherIcon:"WeatherForecast_weatherIcon__1-WL5"}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var c=n(9),a=n(46),r=n.n(a),i=n(0);function s(e){for(var t=e.count,n=e.width,a=e.wrapper,s=e.height,l=e.circle,o=e.style,d=e.className,u=[],j=0;j<t;j++){var b={};null!==n&&(b.width=n),null!==s&&(b.height=s),null!==n&&null!==s&&l&&(b.borderRadius="50%");var h=r.a.skeleton;d&&(h+=" "+d),u.push(Object(i.jsx)("span",{className:h,style:Object(c.a)(Object(c.a)({},o),b),children:"\u200c"},j))}return Object(i.jsx)("span",{children:a?u.map((function(e,t){return Object(i.jsxs)(a,{children:[e,"\u200c"]},t)})):u})}s.defaultProps={count:1,width:null,wrapper:null,height:null,circle:!1,style:{},className:""}},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i}));var c=n(11),a=function(e){return{type:c.a.ADD_CITY,payload:{city:e}}},r=function(e,t,n){return{type:c.a.OPEN_WEATHER_FORECAST,payload:{lon:e,lat:t,name:n}}},i=function(){return{type:c.a.CLOSE_WEATHER_FORECAST}}},43:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(6);function a(){var e=Object(c.c)((function(e){return e.weather.units}));return function(t){switch(e){case"imperial":return"".concat(t,"\xb0 F");case"metric":return"".concat(t,"\xb0 C");default:return t}}}},44:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(6);function a(){var e=Object(c.c)((function(e){return e.weather.units}));return function(t){switch(e){case"imperial":return"".concat(t," miles/h");case"metric":return"".concat(t," meter/s");default:return t}}}},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var c=n(48),a=n(19),r=n.n(a).a.create({baseURL:"https://api.openweathermap.org/data/2.5",params:{appid:"d91fa5e792320c4bd3a18bb475e1c7ea"}}),i=Object(c.a)({axios:r})},46:function(e,t,n){e.exports={skeleton:"Skeleton_skeleton__8yEY-","background-animation":"Skeleton_background-animation__YOnS0"}},53:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(21),i=n.n(r),s=(n(53),n(9)),l=n(13),o=n(3),d=n(30),u=n(18),j=n(0);function b(){return Object(j.jsx)("div",{className:"container",children:Object(j.jsx)("div",{className:"row",children:[1,2,3,4,5,6].map((function(e){return Object(j.jsx)("div",{className:"col-md-4 mb-4",children:Object(j.jsx)(u.a,{height:"170px"})},"page-skeleton-".concat(e))}))})})}var h={fallback:Object(j.jsx)(b,{})},O=Object(d.a)((function(){return n.e(3).then(n.bind(null,88))}),h),m=Object(d.a)((function(){return n.e(4).then(n.bind(null,86))}),h),x="/dashboard",f=[{path:"/dashboard",component:function(){return Object(j.jsx)(O,{})}},{path:"/about",component:function(){return Object(j.jsx)(m,{})}}];function p(){return Object(j.jsx)("div",{children:"This is Not Found"})}var v=n(6),N="SET_UNITS";function g(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.weather.units}));return Object(j.jsx)("nav",{className:"navbar navbar-expand navbar-light navbar-weather",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(l.b,{className:"navbar-brand text-brand text-primary",to:"/",children:"City Weather App"}),Object(j.jsxs)("div",{className:"d-flex",children:["F\xb0",Object(j.jsx)("div",{className:"form-check form-switch ms-2",children:Object(j.jsx)("input",{name:"unit",className:"form-check-input",type:"checkbox",checked:"metric"===t,onChange:function(t){t.target.checked?e({type:N,payload:{units:"metric"}}):e({type:N,payload:{units:"imperial"}})}})}),"C\xb0"]})]})})}function y(){return Object(j.jsxs)("footer",{className:"footer",children:[Object(j.jsxs)("ul",{className:"nav justify-content-center",children:[Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(l.c,{className:"nav-link",to:"/dashboard",children:"Dashboard"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)(l.c,{className:"nav-link",to:"/about",children:"About Me"})}),Object(j.jsx)("li",{className:"nav-item",children:Object(j.jsx)("a",{className:"nav-link",href:"https://efriandika.github.io/backbase-react",target:"_blank",rel:"noreferrer",children:"Live Demo"})})]}),Object(j.jsxs)("div",{className:"footer-text",children:["Made with ",Object(j.jsx)("i",{className:"bi bi-heart",role:"img","aria-label":"Love"})," for Backbase Interview Assignment."]}),Object(j.jsx)("div",{className:"author",children:Object(j.jsx)("a",{href:"https://www.linkedin.com/in/efriandika/",target:"_blank",rel:"noreferrer",children:"Efriandika Pratama"})})]})}var w=n(32),E=n(22),_=n.n(E),k=n(34),C=n(31),T=n(45),A=n(15),F=n.n(A),S=n(43),R=n(44);function D(e){var t=e.className,n=e.units,a=e.lon,r=e.lat,i=e.name,s=Object(T.a)({},{manual:!0}),l=Object(C.a)(s,3),o=l[0],d=o.data,b=o.loading,h=o.error,O=l[1],m=l[2],x=Object(S.a)(),f=Object(R.a)();function p(){return(p=Object(k.a)(_.a.mark((function e(t,c){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{O({url:"/onecall",params:{lat:t,lon:c,units:n,exclude:"minutely,daily,alerts"}})}catch(a){alert("Failed to get Skeleton Data from the server!")}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return new Date(1e3*e).toLocaleTimeString()}return Object(c.useEffect)((function(){return function(e,t){p.apply(this,arguments)}(r,a),function(){return m()}}),[r,a]),d&&!b&&null==h?function(){return Object(j.jsxs)("div",{className:"".concat(t," ").concat(F.a.container),children:[d.current.weather.length>0?Object(j.jsx)("img",{className:F.a.weatherIcon,src:"https://openweathermap.org/img/wn/".concat(d.current.weather[0].icon,"@2x.png"),alt:d.current.weather[0].main}):null,Object(j.jsx)("div",{className:F.a.cityName,children:i}),Object(j.jsxs)("div",{className:"line-height-condenced text-muted text-tiny",children:[Object(j.jsx)("div",{children:"Updated at:"}),Object(j.jsx)("div",{className:"font-weight-semibold",children:(e=d.current.dt,new Date(1e3*e).toLocaleString())})]}),Object(j.jsxs)("div",{className:"mt-4 text-tiny",children:[Object(j.jsx)("div",{className:"font-weight-semibold",children:"Forecast (Next 5 Hours)"}),Object(j.jsxs)("table",{className:"table",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{scope:"col",children:"#"}),Object(j.jsx)("th",{scope:"col",children:"Temp"}),Object(j.jsx)("th",{scope:"col",children:"Feels Like"}),Object(j.jsx)("th",{scope:"col",children:"Wind Speed"})]})}),Object(j.jsx)("tbody",{children:d.hourly.slice(1,6).map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:v(e.dt)}),Object(j.jsx)("td",{children:x(e.temp)}),Object(j.jsx)("td",{children:x(e.feels_like)}),Object(j.jsx)("td",{children:f(e.wind_speed)})]},"forecast-table-".concat(t))}))})]})]})]});var e}():null!=h?h?Object(j.jsxs)("div",{className:"".concat(t," ").concat(F.a.container," text-danger"),children:["Data cannot be loaded from the server.",Object(j.jsx)("br",{}),404===h.response.status?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("strong",{children:[i," (lon: ",a," | lat: ",r,")"]})," is not found"]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("strong",{children:"Error:"})," ",h.message]})]}):null:Object(j.jsxs)("div",{className:"".concat(t," ").concat(F.a.container),children:[Object(j.jsx)("div",{className:F.a.cityName,children:Object(j.jsx)(u.a,{width:"50%",height:"50px"})}),Object(j.jsxs)("div",{className:"line-height-condenced text-muted text-tiny",children:[Object(j.jsx)("div",{children:Object(j.jsx)(u.a,{width:"30%",height:"20px"})}),Object(j.jsx)("div",{className:"font-weight-semibold",children:Object(j.jsx)(u.a,{width:"60%",height:"20px"})})]})]})}function L(){var e=Object(v.b)(),t=Object(v.c)((function(e){return e.app.drawer})),n=Object(v.c)((function(e){return e.app.selectedCity})),c=Object(v.c)((function(e){return e.weather.selectedCity}));function a(){e(Object(w.b)())}return Object(j.jsxs)("div",{className:"drawer ".concat(t?"open":""),children:[Object(j.jsx)("div",{className:"drawer-overlay",onClick:a}),Object(j.jsxs)("div",{className:"drawer-content",children:[Object(j.jsx)("button",{type:"button",className:"btn-close",onClick:a,children:Object(j.jsx)("i",{className:"bi bi-x-circle"})}),n?Object(j.jsx)(D,{className:"mt-5",lat:n.lat,lon:n.lon,name:n.name,units:c}):Object(j.jsx)("div",{children:"There is no city selected"})]})]})}function W(e){var t=e.children;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(g,{}),Object(j.jsx)("div",{className:"layout-content",children:t}),Object(j.jsx)(y,{}),Object(j.jsx)(L,{})]})}D.defaultProps={className:"",units:"metric"};var I=function(){return Object(j.jsx)(l.a,{basename:"/backbase-react",children:Object(j.jsxs)(o.d,{children:[f.map((function(e,t){return Object(j.jsx)(o.b,{path:e.path,exact:e.exact,render:function(t){return e.layout?Object(j.jsx)(e.layout,Object(s.a)(Object(s.a)({},t),{},{children:Object(j.jsx)(e.component,Object(s.a)({},t))})):Object(j.jsx)(W,Object(s.a)(Object(s.a)({},t),{},{children:Object(j.jsx)(e.component,Object(s.a)({},t))}))}},t)})),Object(j.jsx)(o.a,{from:"/",to:x,exact:!0}),Object(j.jsx)(o.b,{path:"*",component:p})]})})},H=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,87)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))},P=n(24),Y=n(25),M=n(11);function B(e,t){return Object.assign({},e,t)}var U,J={drawer:!1,selectedCity:null,cities:["Amsterdam","Dublin,IE","Edinburgh","Manchester","London"]},q={units:"metric"},z=Object(Y.b)({app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.a.ADD_CITY:return B(e,{drawer:!1,cities:[].concat(Object(P.a)(e.cities),[t.payload.city])});case M.a.OPEN_WEATHER_FORECAST:return B(e,{drawer:!0,selectedCity:{lon:t.payload.lon,lat:t.payload.lat,name:t.payload.name}});case M.a.CLOSE_WEATHER_FORECAST:return B(e,{drawer:!1,selectedCity:null});default:return e}},weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return B(e,{units:t.payload.units});default:return e}}}),G=function(e){return Y.a.apply(void 0,Object(P.a)(e))},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U=Object(Y.c)(z,e,G([]))},Q=function(e){var t,n=null!==(t=U)&&void 0!==t?t:K(e);return e&&U&&(n=K(Object(s.a)(Object(s.a)({},U.getState()),e)),U=void 0),"undefined"===typeof window||U||(U=n),n}();i.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(v.a,{store:Q,children:Object(j.jsx)(I,{})})}),document.getElementById("root")),H(console.log)}},[[82,1,2]]]);
//# sourceMappingURL=main.ac731a79.chunk.js.map