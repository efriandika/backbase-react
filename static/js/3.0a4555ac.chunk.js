(this["webpackJsonpbackbase-react"]=this["webpackJsonpbackbase-react"]||[]).push([[3],{83:function(e,t,c){e.exports={container:"Weather_container__pvPvo",temperature:"Weather_temperature__35WZz",city:"Weather_city__1RdlU",country:"Weather_country__PZFQu",weatherIcon:"Weather_weatherIcon__ZyqDz"}},84:function(e,t,c){e.exports={newCityForm:"WeatherList_newCityForm__1mmQm"}},88:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return y}));var n=c(31),a=c(22),i=c.n(a),s=c(34),r=c(83),l=c.n(r),o=c(1),d=c(45),j=c(43),u=c(44),b=c(18),m=c(0);function h(e){var t=e.className,c=e.units,a=e.cityName,r=e.onClick,h=Object(d.a)({},{manual:!0}),x=Object(n.a)(h,3),O=x[0],p=O.data,f=O.loading,v=O.error,y=x[1],w=x[2],N=Object(j.a)(),g=Object(u.a)();function C(){return(C=Object(s.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y({url:"/weather",params:{q:t,units:c}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Failed to get weather data from the server!");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){return function(e,t){C.apply(this,arguments)}(a,c),function(){return w()}}),[a,c]),p&&!f&&null==v?Object(m.jsxs)("div",{className:"".concat(t," ").concat(l.a.container," cursor-pointer"),onClick:function(){return r(p.coord.lon,p.coord.lat,p.name)},children:[p.weather.length>0?Object(m.jsx)("img",{className:l.a.weatherIcon,src:"https://openweathermap.org/img/wn/".concat(p.weather[0].icon,"@2x.png"),alt:p.weather[0].main}):null,Object(m.jsx)("div",{className:l.a.temperature,children:N(p.main.temp)}),Object(m.jsxs)("div",{className:"mb-3 line-height-condenced",children:[Object(m.jsx)("div",{className:l.a.city,children:p.name}),Object(m.jsx)("div",{className:l.a.country,children:p.sys.country})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsxs)("div",{title:"Humidity",children:[Object(m.jsx)("i",{className:"bi bi-droplet",role:"img","aria-label":"Humidity"})," ",p.main.humidity,"%"]}),Object(m.jsxs)("div",{title:"Wind Speed",children:[Object(m.jsx)("i",{className:"bi bi-wind",role:"img","aria-label":"Wind Speed"})," ",g(p.wind.speed)]})]})]}):null!=v?v?Object(m.jsxs)("div",{className:"".concat(t," ").concat(l.a.container," text-danger"),children:["Data cannot be loaded from the server.",Object(m.jsx)("br",{}),404===v.response.status?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("strong",{children:a})," is not found"]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("strong",{children:"Error:"})," ",v.message]})]}):null:Object(m.jsxs)("div",{className:"".concat(t," ").concat(l.a.container),children:[Object(m.jsx)("div",{className:l.a.temperature,children:Object(m.jsx)(b.a,{width:"40%",height:"46px",className:"mb-2"})}),Object(m.jsxs)("div",{className:"mb-3 line-height-condenced",children:[Object(m.jsx)("div",{className:l.a.city,children:Object(m.jsx)(b.a,{width:"45%"})}),Object(m.jsx)("div",{className:l.a.country,children:Object(m.jsx)(b.a,{width:"30%"})})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("div",{title:"Humidity",children:Object(m.jsx)(b.a,{width:"55px"})}),Object(m.jsx)("div",{title:"Wind Speed",children:Object(m.jsx)(b.a,{width:"70px"})})]})]})}h.defaultProps={className:"",units:"metric",onClick:function(){}};var x=c(84),O=c.n(x);function p(e){var t=e.className,c=e.cities,a=e.units,i=e.onCityClick,s=e.onNewCitySubmit,r=Object(o.useState)(""),l=Object(n.a)(r,2),d=l[0],j=l[1];return Object(m.jsxs)("div",{className:"row ".concat(t),children:[c.map((function(e,t){return Object(m.jsx)("div",{className:"col-md-4 mb-4",children:Object(m.jsx)(h,{cityName:e,units:a,onClick:function(e,t,c){return i(e,t,c)}})},"city-weather-".concat(t))})),Object(m.jsx)("div",{className:"col-md-4 mb-4",children:Object(m.jsx)("div",{className:O.a.newCityForm,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s(d),j("")},children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"new-city-name",className:"form-label",children:"Add New City"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"new-city-name",placeholder:"Eg: Paris",value:d,onChange:function(e){return j(e.target.value)}})]}),Object(m.jsx)("div",{className:"text-end",children:Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:""===d,children:"Submit"})})]})})},"city-weather-new")]})}p.defaultProps={className:"",units:"metric",cities:[],onCityClick:function(){},onNewCitySubmit:function(){}};var f=c(6),v=c(32);function y(){var e=Object(f.b)(),t=Object(f.c)((function(e){return e.app.cities})),c=Object(f.c)((function(e){return e.weather.units}));return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(p,{cities:t,units:c,onCityClick:function(t,c,n){return e(Object(v.c)(t,c,n))},onNewCitySubmit:function(t){return e(Object(v.a)(t))}})})}}}]);
//# sourceMappingURL=3.0a4555ac.chunk.js.map