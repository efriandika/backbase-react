(this["webpackJsonpbackbase-react"]=this["webpackJsonpbackbase-react"]||[]).push([[3],{80:function(e,t,c){e.exports={container:"Weather_container__pvPvo",temperature:"Weather_temperature__35WZz",city:"Weather_city__1RdlU",country:"Weather_country__PZFQu",weatherIcon:"Weather_weatherIcon__ZyqDz"}},81:function(e,t,c){e.exports={newCityForm:"WeatherList_newCityForm__1mmQm"}},85:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return p}));var n=c(29),a=c(20),i=c.n(a),r=c(33),s=c(80),l=c.n(s),o=c(0),u=c(42),d=c(10);var j=c(30),m=c(1);function b(e){var t=e.className,c=e.units,a=e.cityName,s=e.onClick,b=Object(u.a)({},{manual:!0}),h=Object(n.a)(b,3),x=h[0],O=x.data,f=x.loading,p=x.error,v=h[1],w=h[2],y=function(){var e=Object(d.c)((function(e){return e.weather.units}));return function(t){switch(e){case"imperial":return"".concat(t,"\xb0 F");case"metric":return"".concat(t,"\xb0 C");default:return t}}}(),N=function(){var e=Object(d.c)((function(e){return e.weather.units}));return function(t){switch(e){case"imperial":return"".concat(t," miles/h");case"metric":return"".concat(t," meter/s");default:return t}}}();function g(){return(g=Object(r.a)(i.a.mark((function e(t,c){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({url:"/weather",params:{q:t,units:c}});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Failed to get weather data from the server!");case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}return Object(o.useEffect)((function(){return function(e,t){g.apply(this,arguments)}(a,c),function(){return w()}}),[a,c]),O&&!f&&null==p?Object(m.jsxs)("div",{className:"".concat(t," ").concat(l.a.container," cursor-pointer"),onClick:function(){return s(O.coord.lon,O.coord.lat,O.name)},children:[O.weather.length>0?Object(m.jsx)("img",{className:l.a.weatherIcon,src:"https://openweathermap.org/img/wn/".concat(O.weather[0].icon,"@2x.png"),alt:O.weather[0].main}):null,Object(m.jsx)("div",{className:l.a.temperature,children:y(O.main.temp)}),Object(m.jsxs)("div",{className:"mb-3 line-height-condenced",children:[Object(m.jsx)("div",{className:l.a.city,children:O.name}),Object(m.jsx)("div",{className:l.a.country,children:O.sys.country})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsxs)("div",{title:"Humidity",children:[Object(m.jsx)("i",{className:"bi bi-droplet",role:"img","aria-label":"Humidity"})," ",O.main.humidity,"%"]}),Object(m.jsxs)("div",{title:"Wind Speed",children:[Object(m.jsx)("i",{className:"bi bi-wind",role:"img","aria-label":"Wind Speed"})," ",N(O.wind.speed)]})]})]}):null!=p?p?Object(m.jsxs)("div",{className:"".concat(t," ").concat(l.a.container," text-danger"),children:["Data cannot be loaded from the server.",Object(m.jsx)("br",{}),404===p.response.status?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("strong",{children:a})," is not found"]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("strong",{children:"Error:"})," ",p.message]})]}):null:Object(m.jsxs)("div",{className:"".concat(t," ").concat(l.a.container),children:[Object(m.jsx)("div",{className:l.a.temperature,children:Object(m.jsx)(j.a,{width:"40%",height:"46px",className:"mb-2"})}),Object(m.jsxs)("div",{className:"mb-3 line-height-condenced",children:[Object(m.jsx)("div",{className:l.a.city,children:Object(m.jsx)(j.a,{width:"45%"})}),Object(m.jsx)("div",{className:l.a.country,children:Object(m.jsx)(j.a,{width:"30%"})})]}),Object(m.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(m.jsx)("div",{title:"Humidity",children:Object(m.jsx)(j.a,{width:"55px"})}),Object(m.jsx)("div",{title:"Wind Speed",children:Object(m.jsx)(j.a,{width:"70px"})})]})]})}b.defaultProps={className:"",units:"metric",onClick:function(){}};var h=c(81),x=c.n(h);function O(e){var t=e.className,c=e.cities,a=e.units,i=e.onCityClick,r=e.onNewCitySubmit,s=Object(o.useState)(""),l=Object(n.a)(s,2),u=l[0],d=l[1];return Object(m.jsxs)("div",{className:"row ".concat(t),children:[c.map((function(e,t){return Object(m.jsx)("div",{className:"col-md-4 mb-4",children:Object(m.jsx)(b,{cityName:e,units:a,onClick:function(e,t,c){return i(e,t,c)}})},"city-weather-".concat(t))})),Object(m.jsx)("div",{className:"col-md-4 mb-4",children:Object(m.jsx)("div",{className:x.a.newCityForm,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(u),d("")},children:[Object(m.jsxs)("div",{className:"mb-3",children:[Object(m.jsx)("label",{htmlFor:"new-city-name",className:"form-label",children:"Add New City"}),Object(m.jsx)("input",{type:"text",className:"form-control",id:"new-city-name",placeholder:"Eg: Paris",value:u,onChange:function(e){return d(e.target.value)}})]}),Object(m.jsx)("div",{className:"text-end",children:Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:""===u,children:"Submit"})})]})})},"city-weather-new")]})}O.defaultProps={className:"",units:"metric",cities:[],onCityClick:function(){},onNewCitySubmit:function(){}};var f=c(31);function p(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.app.cities})),c=Object(d.c)((function(e){return e.weather.units}));return Object(m.jsx)("div",{className:"container",children:Object(m.jsx)(O,{cities:t,units:c,onCityClick:function(t,c,n){return e(Object(f.c)(t,c,n))},onNewCitySubmit:function(t){return e(Object(f.a)(t))}})})}}}]);
//# sourceMappingURL=3.58b67f3d.chunk.js.map